<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title></title>
		<script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
		<script type="text/javascript" src="js/common.js"></script>
		<link rel="stylesheet" href="css/common.css">
		<link rel="stylesheet" href="css/achievement.css">
	</head>
	<body>
		<div class='title_div'>我的成就</div>
		<div class="achievement_div_outer">
			<div class="achievement_div_inner" id="achievement_div_inner0_0">
				<div class="achievement_div_content">完成第一章</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner0_1">
				<div class="achievement_div_content">30s内完成</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner0_2">
				<div class="achievement_div_content">?</div>
			</div>
		</div>
		<div class="achievement_div_outer">
			<div class="achievement_div_inner" id="achievement_div_inner1_0">
				<div class="achievement_div_content">完成第二章</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner1_1">
				<div class="achievement_div_content">90s内完成</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner1_2">
				<div class="achievement_div_content">?</div>
			</div>
		</div>
		<div class="achievement_div_outer">
			<div class="achievement_div_inner" id="achievement_div_inner2_0">
				<div class="achievement_div_content">完成第三章</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner2_1">
				<div class="achievement_div_content">180s内完成</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner2_2">
				<div class="achievement_div_content">?</div>
			</div>
		</div>
		<div class="achievement_div_outer">
			<div class="achievement_div_inner" id="achievement_div_inner3_0">
				<div class="achievement_div_content">完成第四章</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner3_1">
				<div class="achievement_div_content">270s内完成</div>
			</div>
			<div class="achievement_div_inner" id="achievement_div_inner3_2">
				<div class="achievement_div_content">?</div>
			</div>
		</div>
	</body>

	<script type="text/javascript">
		document.addEventListener("plusready", function() {
			// 注册返回按键事件 
			plus.key.addEventListener('backbutton', function() {
				// 事件处理 
				window.location.href = 'index.html';
			}, false);
		});

		$(document).ready(function() {
			for (var i = 0; i < 6; i++) {
				var achievement = storage.getItem('achievement' + i);
				if (achievement != undefined && achievement != '') {
					console.log(achievement)
					var lastNum = achievement.substring(achievement.length - 1);
					if (lastNum == '1') {
						var achievementPre = achievement.replace('_1', '_0');
						$('#achievement_div_inner' + achievementPre).css("background-image", "url(img/achievement/" +
							achievementPre + ".png)");
						$('#achievement_div_inner' + achievement).css("background-image", "url(img/achievement/" + achievement +
							".png)");
						$('#achievement_div_inner' + achievement).children('.achievement_div_content').html('');
						
						$('#achievement_div_inner' + achievementPre).children('.achievement_div_content').html('');
							
						$('#achievement_div_inner' + achievementPre).css("background-size", "cover");
						$('#achievement_div_inner' + achievement).css("background-size", "cover");
					} else {
						$('#achievement_div_inner' + achievement).css("background-image", "url(img/achievement/" + achievement +
							".png)");
						$('#achievement_div_inner' + achievement).css("background-size", "cover");
						$('#achievement_div_inner' + achievement).children('.achievement_div_content').html('');
						
					}
				}
			}
		});
		$("#chapter0").click(function() {
			window.location.href = 'game.html?puzzleLevel=0&puzzleRow=3&puzzleCol=3&puzzleTime=60';
		});
		$("#chapter1").click(function() {
			window.location.href = 'game.html?puzzleLevel=1&puzzleRow=4&puzzleCol=4&puzzleTime=180';
		});
		$("#chapter2").click(function() {
			window.location.href = 'game.html?puzzleLevel=2&puzzleRow=5&puzzleCol=5&puzzleTime=360';
		});
		$("#chapter3").click(function() {
			window.location.href = 'game.html?puzzleLevel=3&puzzleRow=6&puzzleCol=6&puzzleTime=540';
		});
	</script>
</html>
